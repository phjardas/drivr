<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h2 class="display-3">{{car ? car.licensePlate : 'loadingâ€¦'}}</h2>
  </div>
</div>

<div class="container mt-3" *ngIf="car != null">
  <h3>New Refuel</h3>

  <form [formGroup]="form" novalidate (ngSubmit)="submit()">
    <div class="form-group">
      <label for="date">Date</label>
      <div class="form-row">
        <div class="col">
          <input class="form-control" name="date" id="date" type="date" formControlName="date" required>
        </div>
        <div class="col">
          <input class="form-control" name="time" id="time" type="time" formControlName="time" required>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="mileage">Mileage</label>
      <input class="form-control" name="mileage" id="mileage" type="number" min="{{ car.lastRefuel?.mileage || car.initialMileage }}" formControlName="mileage" required autofocus>
      <span class="form-text text-muted">Distance: {{ form.value.distance }}</span>
    </div>
    <div class="form-group">
      <label for="fuelAmount">Fuel amount</label>
      <input class="form-control" name="fuelAmount" id="fuelAmount" type="number" min="0" formControlName="fuelAmount" required>
      <span class="form-text text-muted">Consumption: {{ form.value.consumption | number:'1.2-2' }} cl/km</span>
    </div>
    <div class="form-group">
      <label for="totalPrice">Total price</label>
      <input class="form-control" name="totalPrice" id="totalPrice" type="number" min="0" formControlName="totalPrice" required>
      <span class="form-text text-muted">Cost: {{ form.value.pricePerLiter | number:'1.2-2' }} Ct/l</span>
    </div>
    <button class="btn btn-primary" [disabled]="form.status !== 'VALID'">Save new refuel</button>
  </form>
</div>
